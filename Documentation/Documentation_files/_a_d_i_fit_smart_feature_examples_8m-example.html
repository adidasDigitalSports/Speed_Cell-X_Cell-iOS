<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>miCoachSensors: ADIFitSmartFeatureExamples.m</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->

<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><img src="adidas_logo.png" /></a></li>
      <li><a href="group___s_p_e_e_d_c_e_l_l___d_e_v_i_c_e.html"><span>SPEED_CELL</span></a></li>
      <li><a href="group___x_c_e_l_l___d_e_v_i_c_e.html"><span>X_CELL</span></a></li>
      <li><a href="group___f_i_t_s_m_a_r_t___d_e_v_i_c_e.html"><span>FIT_SMART</span></a></li>
      <li><a href="group___m_i_c_o_a_c_h___b_l_u_e_t_o_o_t_h.html"><span>Bluetooth</span></a></li>
      <li><a href="group___m_i_c_o_a_c_h___i_n_t_e_r_f_a_c_e_s.html"><span>Interfaces</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Modules</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">ADIFitSmartFeatureExamples.m</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><span class="preprocessor">#import &quot;ADIFitSmartFeatureExamples.h&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This class presents examples for the Fit Smart device features.</span></div>
<div class="line"><span class="keyword">@implementation </span>ADIFitSmartFeatureExamples {</div>
<div class="line">    </div>
<div class="line">    NSMutableArray *_examples;</div>
<div class="line">    NSUInteger _examplesCount;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#pragma mark - Helpers</span></div>
<div class="line"></div>
<div class="line"><span class="comment">//  Run FitSmart feature examples after each other.</span></div>
<div class="line">- (void)runAllExamples {</div>
<div class="line">    </div>
<div class="line">    _examples = [NSMutableArray new];</div>
<div class="line">    </div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(start))];</div>
<div class="line">   </div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(getTimeExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(setTimeExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(writeUserConfigurationExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(getDeviceInfoExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(uploadWorkoutExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(uploadWorkoutWithUSDatesExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(downloadAllSessionsExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(deleteAllSessionsExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(writeCalibrationFactorExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(readCalibrationFactorExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(readBatteryLevelExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(getDeviceStateExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(getAvailableSpacePercentForSessionsExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(getAvailableSpacePercentForActivityTrackerExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(downloadActivityRecordsExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(deleteActivityRecordsExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(getDeviceStateExample))];</div>
<div class="line"></div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(endsync))];</div>
<div class="line"></div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(startDualModeAssessmentExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(heartRateUpdateExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(dualModeReadyExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(dualModeStartWorkoutExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(dualModeSceneSpeedUpExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(dualModePauseWorkoutExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(dualModeResumeWorkoutExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(dualUpdateInstantMetricsExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(dualUpdateSummaryMetricsExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(dualModeStopWorkoutExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(isInDualModeExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(endDualModeExample))];</div>
<div class="line">    </div>
<div class="line">    _examplesCount = _examples.count;</div>
<div class="line">    [<span class="keyword">self</span> continueRunningExamples];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">//  This method continues running the next example.</span></div>
<div class="line">- (void)continueRunningExamples {</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">if</span> (_examples.count &gt; 0) {</div>
<div class="line">        </div>
<div class="line">        NSString *selectorName = _examples.firstObject;</div>
<div class="line">        <span class="keywordtype">SEL</span> selector = NSSelectorFromString(selectorName);</div>
<div class="line">        [_examples removeObjectAtIndex:0];</div>
<div class="line">        <span class="keyword">self</span>.log(<span class="stringliteral">@&quot;&quot;</span>);</div>
<div class="line">        <span class="keyword">self</span>.log([NSString stringWithFormat:<span class="stringliteral">@&quot;%02lu/%02lu %@&quot;</span>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)(_examplesCount - _examples.count), (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)_examplesCount, selectorName]);</div>
<div class="line">        [<span class="keyword">self</span> performSelector:selector withObject:nil afterDelay:5.0];</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">//  This method formats and logs the result of an example, then continues to run next example.</span></div>
<div class="line">- (void)displayResult:(BOOL)success resultString:(NSString *)resultString {</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">if</span> (resultString.length &gt; 0) {</div>
<div class="line">        </div>
<div class="line">        <span class="comment">// message with result</span></div>
<div class="line">        <span class="keyword">self</span>.log([NSString stringWithFormat:<span class="stringliteral">@&quot;    success: %@ - %@&quot;</span>, success ? <span class="stringliteral">@&quot;YES&quot;</span> : <span class="stringliteral">@&quot;NO&quot;</span>, resultString]);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">        </div>
<div class="line">        <span class="comment">// message without result</span></div>
<div class="line">        <span class="keyword">self</span>.log([NSString stringWithFormat:<span class="stringliteral">@&quot;    success: %@&quot;</span>, success ? <span class="stringliteral">@&quot;YES&quot;</span> : <span class="stringliteral">@&quot;NO&quot;</span>]);</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// next example</span></div>
<div class="line">    [<span class="keyword">self</span> continueRunningExamples];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#pragma mark - Examples</span></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an example for sync starting on the FitSmart device.</span></div>
<div class="line">- (void)start {</div>
<div class="line">    </div>
<div class="line">    [_fitSmart startSync];</div>
<div class="line">    [<span class="keyword">self</span> continueRunningExamples];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an example for sync ending on the FitSmart device and ending the tests.</span></div>
<div class="line">- (void)end {</div>
<div class="line">    </div>
<div class="line">    [_fitSmart endSync:nil];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an example for sync ending on the FitSmart device.</span></div>
<div class="line">- (void)endsync {</div>
<div class="line">    </div>
<div class="line">    [_fitSmart endSync:nil];</div>
<div class="line">    [<span class="keyword">self</span> continueRunningExamples];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an example for getting the time from the FitSmart device.</span></div>
<div class="line">- (void)getTimeExample {</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart getDeviceTime:^(NSDate *dateTime) {</div>
<div class="line">        </div>
<div class="line">        NSString *dateString = [NSDateFormatter localizedStringFromDate:dateTime dateStyle:NSDateFormatterShortStyle timeStyle:NSDateFormatterShortStyle];</div>
<div class="line">        BOOL success = (dateTime != nil);</div>
<div class="line">        </div>
<div class="line">        [weakSelf displayResult:success resultString:dateString];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an example for setting the time on the FitSmart device.</span></div>
<div class="line">- (void)setTimeExample {</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart setDeviceTime:[NSDate date] success:^(BOOL success) {</div>
<div class="line">        </div>
<div class="line">        [weakSelf displayResult:success resultString:nil];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an example for writing a user configuration on the FitSmart device.</span></div>
<div class="line">- (void)writeUserConfigurationExample {</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    <a name="_a0"></a><a class="code" href="interface_a_d_i_fit_smart_user_configuration.html">ADIFitSmartUserConfiguration</a> *testConfiguration = [[<a class="code" href="interface_a_d_i_fit_smart_user_configuration.html">ADIFitSmartUserConfiguration</a> alloc] init];</div>
<div class="line">    </div>
<div class="line">    testConfiguration.ageInYears = 1;</div>
<div class="line">    testConfiguration.gender = <a name="a1"></a><a class="code" href="_a_d_i_fit_smart_user_configuration_8h.html#gab7612f86a2d9fa3164789b07f6daf4eba50a7ef468152ed930faa122c3a54333b">ADIFitSmartGenderPreferenceMale</a>;</div>
<div class="line">    testConfiguration.heightInCentiMeters = 2;</div>
<div class="line">    testConfiguration.weightInKilograms = 3;</div>
<div class="line">    testConfiguration.heartRateZoneBlueTopInBPM = 4;</div>
<div class="line">    testConfiguration.heartRateZoneBlueMinInBPM = 5;</div>
<div class="line">    testConfiguration.heartRateZoneGreenTopInBPM = 6;</div>
<div class="line">    testConfiguration.heartRateZoneYellowTopInBPM = 7;</div>
<div class="line">    testConfiguration.heartRateZoneRedTopInBPM = 8;</div>
<div class="line">    testConfiguration.paceZoneBlueMinInSecondsPerKM = 9;</div>
<div class="line">    testConfiguration.paceZoneBlueTopInSecondsPerKM = 10;</div>
<div class="line">    testConfiguration.paceZoneGreenTopInSecondsPerKM = 11;</div>
<div class="line">    testConfiguration.paceZoneYellowTopInSecondsPerKM = 12;</div>
<div class="line">    testConfiguration.paceZoneRedTopInSecondsPerKM = 13;</div>
<div class="line">    testConfiguration.uniqueUserIdentifier = @14;</div>
<div class="line">    testConfiguration.showDoubleMetricNames = YES;</div>
<div class="line">    testConfiguration.unit = 1;</div>
<div class="line">    testConfiguration.timeFormat = 1;</div>
<div class="line">    testConfiguration.autoSplitMode = 1;</div>
<div class="line">    testConfiguration.splitMode = <a name="a2"></a><a class="code" href="_a_d_i_fit_smart_user_configuration_8h.html#ga6dcfa24e57cbf40dedcf677782d0f41aa47d1171d197997d3b625179abf1b560d">ADIFitSmartSplitModePreferenceDistance</a>;</div>
<div class="line">    testConfiguration.autoSplitValue = 1;</div>
<div class="line">    testConfiguration.coachingMethod = <a name="a3"></a><a class="code" href="group___f_i_t_s_m_a_r_t___d_e_v_i_c_e.html#gga746987ecca01ea0a4c54505334c871d6a6b1d66cd4f7362031499172860f6e3f5">ADIFitSmartCoachingMethodPreferencePace</a>;</div>
<div class="line">    testConfiguration.enableLockOfWatchView = YES;</div>
<div class="line">    testConfiguration.enableAWorkout = YES;</div>
<div class="line">    testConfiguration.enableActivityTracking = YES;</div>
<div class="line">    testConfiguration.activityTrackerTargetType = <a name="a4"></a><a class="code" href="_a_d_i_fit_smart_user_configuration_8h.html#gab0905440c15f485eaf76c5f14cd3137da937ba7e895594f23a44e889e66c0e244">ADIFitSmartActivityTargetPreferenceDistance</a>;</div>
<div class="line">    testConfiguration.activityTrackerGoal = 16;</div>
<div class="line">    testConfiguration.activityTrackerResetTime = 17;</div>
<div class="line">    </div>
<div class="line">    NSMutableArray *metricsArray = [NSMutableArray array];</div>
<div class="line">    <a name="_a5"></a><a class="code" href="interface_a_d_i_fit_smart_screen.html">ADIFitSmartScreen</a> *screen = [<a class="code" href="interface_a_d_i_fit_smart_screen.html">ADIFitSmartScreen</a> fitSmartScreenWithMetricOnTop:<a name="a6"></a><a class="code" href="group___f_i_t_s_m_a_r_t___d_e_v_i_c_e.html#ggac8f966b42f7157cef2ec12870fbb247ba8e1c9289d0dfd5052fb1615d670e2534">ADIFitSmartMetricViewTypeEmpty</a> metricOnBottom:<a name="a7"></a><a class="code" href="group___f_i_t_s_m_a_r_t___d_e_v_i_c_e.html#ggac8f966b42f7157cef2ec12870fbb247ba589b59414f58c4269c45dfd2282d7b11">ADIFitSmartMetricViewTypeTime</a>];</div>
<div class="line">    [metricsArray addObject:screen];</div>
<div class="line">    screen = [<a class="code" href="interface_a_d_i_fit_smart_screen.html">ADIFitSmartScreen</a> fitSmartScreenWithSingleMetric:<a name="a8"></a><a class="code" href="group___f_i_t_s_m_a_r_t___d_e_v_i_c_e.html#ggac8f966b42f7157cef2ec12870fbb247ba446452ef6fd129f427d7e8468ab75d19">ADIFitSmartMetricViewTypeHeartRate</a>];</div>
<div class="line">    [metricsArray addObject:screen];</div>
<div class="line">    screen = [<a class="code" href="interface_a_d_i_fit_smart_screen.html">ADIFitSmartScreen</a> fitSmartScreenWithMetricOnTop:<a name="a9"></a><a class="code" href="group___f_i_t_s_m_a_r_t___d_e_v_i_c_e.html#ggac8f966b42f7157cef2ec12870fbb247ba8849194273a53ddde7346b52a30cec28">ADIFitSmartMetricViewTypeCalories</a> metricOnBottom:<a name="a10"></a><a class="code" href="group___f_i_t_s_m_a_r_t___d_e_v_i_c_e.html#ggac8f966b42f7157cef2ec12870fbb247ba2ac0348890de249c5dbe99ccc7cef4a0">ADIFitSmartMetricViewTypeDistance</a>];</div>
<div class="line">    [metricsArray addObject:screen];</div>
<div class="line">    screen = [<a class="code" href="interface_a_d_i_fit_smart_screen.html">ADIFitSmartScreen</a> fitSmartScreenWithSingleMetric:<a name="a11"></a><a class="code" href="group___f_i_t_s_m_a_r_t___d_e_v_i_c_e.html#ggac8f966b42f7157cef2ec12870fbb247ba445d9f2856a7594aa459819b3d38377e">ADIFitSmartMetricViewTypeAvgSpeed</a>];</div>
<div class="line">    [metricsArray addObject:screen];</div>
<div class="line">    </div>
<div class="line">    testConfiguration.orderOfMetricViews = metricsArray;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart writeUserConfiguration:testConfiguration completion:^(BOOL success) {</div>
<div class="line">        </div>
<div class="line">        [weakSelf displayResult:success resultString:nil];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an example for downloading all sessions from the FitSmart device.</span></div>
<div class="line">- (void)downloadAllSessionsExample {</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart downloadSessions:^(NSArray *sessions, NSError *error) {</div>
<div class="line">        </div>
<div class="line">        BOOL success = (error == nil);</div>
<div class="line">        </div>
<div class="line">        [weakSelf displayResult:success resultString:[NSString stringWithFormat:@&quot;Downloaded %d sessions&quot;, (int)sessions.count]];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an example for deleting all sessions from the FitSmart device.</span></div>
<div class="line">- (void)deleteAllSessionsExample {</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart deleteAllSessions:^(BOOL success) {</div>
<div class="line">        </div>
<div class="line">        [weakSelf displayResult:success resultString:nil];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for writing a new calibration factor on the FitSmart device.</span></div>
<div class="line">- (void)writeCalibrationFactorExample {</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart writeCalibrationFactor:1.3 completion:^(BOOL success) {</div>
<div class="line">        </div>
<div class="line">        [weakSelf displayResult:success resultString:nil];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for reading the calibration factor from the FitSmart device.</span></div>
<div class="line">- (void)readCalibrationFactorExample {</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart readCalibrationFactor:^(<span class="keywordtype">float</span> calibrationFactor, BOOL success) {</div>
<div class="line">        </div>
<div class="line">        [weakSelf displayResult:success resultString:[NSString stringWithFormat:@&quot;Calibration Factor: %.2f&quot;, calibrationFactor]];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for reading the battery level from the FitSmart device.</span></div>
<div class="line">- (void)readBatteryLevelExample {</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart readBatteryLevel:^(NSUInteger batteryLevel) {</div>
<div class="line">        [weakSelf displayResult:YES resultString:[NSString stringWithFormat:@&quot;Level: %lu%%&quot;, (unsigned long)batteryLevel]];</div>
<div class="line">        </div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for getting the device info from the FitSmart device.</span></div>
<div class="line">- (void)getDeviceInfoExample {</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart getDeviceInfo:^(<a name="_a12"></a><a class="code" href="interface_a_d_i_fit_smart_device_info.html">ADIFitSmartDeviceInfo</a> *deviceInfo) {</div>
<div class="line">        [weakSelf displayResult:YES resultString:[NSString stringWithFormat:@&quot;S.Num: %@, FirmW.:%@&quot;, deviceInfo.serialNumber, deviceInfo.firmwareRevision]];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for uploading a workout to the FitSmart device.</span></div>
<div class="line">- (void)uploadWorkoutExample {</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    <a name="_a13"></a><a class="code" href="interface_a_d_i_fit_smart_workout.html">ADIFitSmartWorkout</a> *workout = [[<a class="code" href="interface_a_d_i_fit_smart_workout.html">ADIFitSmartWorkout</a> alloc] init];</div>
<div class="line">    workout.uniqueId = @123456789;</div>
<div class="line">    workout.workoutIndex = 0;</div>
<div class="line">    workout.date = [NSDate date];</div>
<div class="line">    workout.workoutDescription = <span class="stringliteral">@&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789&quot;</span>;</div>
<div class="line">    </div>
<div class="line">    NSMutableArray* intervals = [NSMutableArray array];</div>
<div class="line">    </div>
<div class="line">    <a name="_a14"></a><a class="code" href="interface_a_d_i_fit_smart_workout_interval.html">ADIFitSmartWorkoutInterval</a>* interval = [[<a class="code" href="interface_a_d_i_fit_smart_workout_interval.html">ADIFitSmartWorkoutInterval</a> alloc] init];</div>
<div class="line">    interval.zoneColor = <a name="a15"></a><a class="code" href="group___f_i_t_s_m_a_r_t___d_e_v_i_c_e.html#gga8ec9487db28b97a1cbafcd61195b821da92e625dcc4aa29f5782209bd7e626668">ADIFitSmartWorkoutIntervalZoneColor_Blue</a>;</div>
<div class="line">    interval.intervalDurationInSeconds = 20;</div>
<div class="line">    [intervals addObject:interval];</div>
<div class="line">    </div>
<div class="line">    interval = [[<a class="code" href="interface_a_d_i_fit_smart_workout_interval.html">ADIFitSmartWorkoutInterval</a> alloc] init];</div>
<div class="line">    interval.zoneColor = <a name="a16"></a><a class="code" href="group___f_i_t_s_m_a_r_t___d_e_v_i_c_e.html#gga8ec9487db28b97a1cbafcd61195b821da14701f4c73bb1db91e9f2ddf135d3a09">ADIFitSmartWorkoutIntervalZoneColor_Yellow</a>;</div>
<div class="line">    interval.intervalDurationInSeconds = 25;</div>
<div class="line">    [intervals addObject:interval];</div>
<div class="line">    </div>
<div class="line">    workout.intervals = intervals;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart uploadWorkout:workout completion:^(BOOL success) {</div>
<div class="line">        [weakSelf displayResult:success resultString:nil];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for uploading a workout with US Dates to the FitSmart device.</span></div>
<div class="line">- (void)uploadWorkoutWithUSDatesExample {</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    <a class="code" href="interface_a_d_i_fit_smart_workout.html">ADIFitSmartWorkout</a> *workout = [[<a class="code" href="interface_a_d_i_fit_smart_workout.html">ADIFitSmartWorkout</a> alloc] init];</div>
<div class="line">    workout.uniqueId = @5678;</div>
<div class="line">    workout.workoutIndex = 1;</div>
<div class="line">    workout.date = [NSDate date];</div>
<div class="line">    workout.workoutDescription = <span class="stringliteral">@&quot;TESTWITHUSDATE&quot;</span>;</div>
<div class="line">    </div>
<div class="line">    NSMutableArray* intervals = [NSMutableArray array];</div>
<div class="line">    </div>
<div class="line">    <a class="code" href="interface_a_d_i_fit_smart_workout_interval.html">ADIFitSmartWorkoutInterval</a>* interval = [[<a class="code" href="interface_a_d_i_fit_smart_workout_interval.html">ADIFitSmartWorkoutInterval</a> alloc] init];</div>
<div class="line">    interval.zoneColor = <a name="a17"></a><a class="code" href="group___f_i_t_s_m_a_r_t___d_e_v_i_c_e.html#gga8ec9487db28b97a1cbafcd61195b821daba7347af564c5bdef94aa8e5b0f2c189">ADIFitSmartWorkoutIntervalZoneColor_Green</a>;</div>
<div class="line">    interval.intervalDurationInSeconds = 15;</div>
<div class="line">    [intervals addObject:interval];</div>
<div class="line">    </div>
<div class="line">    interval = [[<a class="code" href="interface_a_d_i_fit_smart_workout_interval.html">ADIFitSmartWorkoutInterval</a> alloc] init];</div>
<div class="line">    interval.zoneColor = 0;</div>
<div class="line">    interval.intervalDurationInSeconds = 27;</div>
<div class="line">    [intervals addObject:interval];</div>
<div class="line">    </div>
<div class="line">    interval = [[<a class="code" href="interface_a_d_i_fit_smart_workout_interval.html">ADIFitSmartWorkoutInterval</a> alloc] init];</div>
<div class="line">    interval.zoneColor = <a name="a18"></a><a class="code" href="group___f_i_t_s_m_a_r_t___d_e_v_i_c_e.html#gga8ec9487db28b97a1cbafcd61195b821da8c39469f75803e2b55e71a2ad8d918c2">ADIFitSmartWorkoutIntervalZoneColor_Red</a>;</div>
<div class="line">    interval.intervalDurationInSeconds = 34;</div>
<div class="line">    [intervals addObject:interval];</div>
<div class="line">    </div>
<div class="line">    workout.intervals = intervals;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart uploadWorkoutWithUSDates:workout completion:^(BOOL success) {</div>
<div class="line">        [weakSelf displayResult:success resultString:nil];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for getting the device state from the FitSmart device.</span></div>
<div class="line">- (void)getDeviceStateExample {</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart getDeviceState:^(<a class="code" href="group___m_i_c_o_a_c_h___i_n_t_e_r_f_a_c_e_s.html#ga7a279ca9b878fbf2bc4136a552e01110">ADIFitSmartState</a> state, <a class="code" href="group___m_i_c_o_a_c_h___i_n_t_e_r_f_a_c_e_s.html#gada671fd397d9e5e37af8a3e1f04e2408">ADIFitSmartSubState</a> subState) {</div>
<div class="line">        </div>
<div class="line">        [weakSelf displayResult:YES resultString:[NSString stringWithFormat:@&quot;State: %lu, SubState: %lu&quot;, (unsigned long)state, (unsigned long)subState]];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for getting the available percent of space for session from the FitSmart device.</span></div>
<div class="line">- (void)getAvailableSpacePercentForSessionsExample {</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart getAvailableSpacePercentForSessions:^(NSUInteger percent) {</div>
<div class="line">        </div>
<div class="line">        [weakSelf displayResult:YES resultString:[NSString stringWithFormat:@&quot;Percent: %lu%%&quot;, (unsigned long)percent]];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for getting the available percent of space for activities from the FitSmart device.</span></div>
<div class="line">- (void)getAvailableSpacePercentForActivityTrackerExample {</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart getAvailableSpacePercentForActivityTracker :^(NSUInteger percent) {</div>
<div class="line">        </div>
<div class="line">        [weakSelf displayResult:YES resultString:[NSString stringWithFormat:@&quot;Percent: %lu%%&quot;, (unsigned long)percent]];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe to reset the FitSmart device.</span></div>
<div class="line">- (void)userResetDeviceExample {</div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart userResetDevice:^(BOOL success) {</div>
<div class="line">        </div>
<div class="line">        [weakSelf displayResult:success resultString:nil];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe to reboot the FitSmart device witch factory reset.</span></div>
<div class="line">- (void)rebootDeviceWithFactoryResetExample {</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart rebootDeviceWithFactoryReset:^(BOOL success) {</div>
<div class="line">        </div>
<div class="line">        [weakSelf displayResult:success resultString:nil];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe to reboot the FitSmart device witch factory reset</span></div>
<div class="line">- (void)rebootDeviceWithoutFactoryResetExample {</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart rebootDeviceWithoutFactoryReset:^(BOOL success) {</div>
<div class="line">        </div>
<div class="line">        [weakSelf displayResult:success resultString:nil];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for downloading activity records from the FitSmart device.</span></div>
<div class="line">- (void)downloadActivityRecordsExample {</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart downloadActivityRecords:^(<a name="_a19"></a><a class="code" href="interface_a_d_i_fit_smart_activity_record.html">ADIFitSmartActivityRecord</a> *record, NSError *error) {</div>
<div class="line">        </div>
<div class="line">        [weakSelf displayResult:error==nil resultString:[NSString stringWithFormat:@&quot;Datapoints count: %lu&quot;, (unsigned long)record.dataPoints.count]];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for deleting activity records from the FitSmart device.</span></div>
<div class="line">- (void)deleteActivityRecordsExample {</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart deleteActivityRecords:^(BOOL success) {</div>
<div class="line">        </div>
<div class="line">        [weakSelf displayResult:success resultString:nil];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for updating the firmware on the FitSmart device.</span></div>
<div class="line">- (void)updateFirmwareExample {</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    NSString* firmwareBinaryPath = [[NSBundle mainBundle] pathForResource:<span class="stringliteral">@&quot;fw_update_2.0.2.bin&quot;</span> ofType:nil];</div>
<div class="line">    </div>
<div class="line">    NSData *data = [NSData dataWithContentsOfFile:firmwareBinaryPath];</div>
<div class="line">    </div>
<div class="line">    [_fitSmart setHandlerForFirmwareProgressChange:^(NSInteger progress) {</div>
<div class="line">        <span class="keywordflow">if</span> (progress%5 == 0) {</div>
<div class="line">            weakSelf.log([NSString stringWithFormat:<span class="stringliteral">@&quot;  firmware update progress: %lu%%&quot;</span>, (<span class="keywordtype">long</span>)progress]);</div>
<div class="line">        }</div>
<div class="line">    }];</div>
<div class="line">    </div>
<div class="line">    [_fitSmart updateFirmware:data completion:^(BOOL success) {</div>
<div class="line">        [weakSelf displayResult:success resultString:nil];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for setting a handler for heart rate updates from the FitSmart device.</span></div>
<div class="line">-(void)heartRateUpdateExample {</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart startHeartRateUpdatesWithHandler:^(<a name="_a20"></a><a class="code" href="interface_a_d_i_heart_rate.html">ADIHeartRate</a> *heartRateData, NSError *error) {</div>
<div class="line">        </div>
<div class="line">        [<span class="keyword">self</span> onHearthRateUpdate:heartRateData];</div>
<div class="line">        [weakSelf displayResult:error == nil resultString:nil];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#pragma mark Dual mode</span></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for starting a free workout in dual mode on FitSmart device.</span></div>
<div class="line">- (void)startDualModeFreeWorkoutExample {</div>
<div class="line">    </div>
<div class="line">    [<span class="keyword">self</span> setHandlerForDualModeEventNotification];</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart startDualModeForFreeWorkout:^(BOOL success) {</div>
<div class="line">        </div>
<div class="line">        weakSelf.log(<span class="stringliteral">@&quot;free WO start - waiting for HR&quot;</span>);</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for starting an assessment workout in dual mode on FitSmart device.</span></div>
<div class="line">- (void)startDualModeAssessmentExample {</div>
<div class="line">    </div>
<div class="line">    [<span class="keyword">self</span> setHandlerForDualModeEventNotification];</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart startDualModeForAssessmentWorkout:^(BOOL success) {</div>
<div class="line">        </div>
<div class="line">        weakSelf.log(<span class="stringliteral">@&quot;assessment WO start - waiting for HR&quot;</span>);</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for starting a coached workout in dual mode on FitSmart device.</span></div>
<div class="line">- (void)startDualModeForCoachedWorkoutExample {</div>
<div class="line">    </div>
<div class="line">    [<span class="keyword">self</span> setHandlerForDualModeEventNotification];</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart startDualModeForCoachedWorkout:^(BOOL success) {</div>
<div class="line">        </div>
<div class="line">        weakSelf.log(<span class="stringliteral">@&quot;coached WO start - waiting for HR&quot;</span>);</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for starting a strength &amp; flex workout in dual mode on FitSmart device.</span></div>
<div class="line">- (void)startDualModeForStrengthAndFlexWorkoutExample {</div>
<div class="line">    </div>
<div class="line">    [<span class="keyword">self</span> setHandlerForDualModeEventNotification];</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart startDualModeForStrengthAndFlexWorkout:^(BOOL success) {</div>
<div class="line">        </div>
<div class="line">        weakSelf.log(<span class="stringliteral">@&quot;strength &amp; flex WO start - waiting for HR&quot;</span>);</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">- (void) setHandlerForDualModeEventNotification {</div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart setHandlerForDualModeEventNotification:^(<a class="code" href="group___m_i_c_o_a_c_h___i_n_t_e_r_f_a_c_e_s.html#ga4b18df9e63d6a1a74d29b0c42fe9bf03">ADIFitSmartDualModeEventType</a> eventType) {</div>
<div class="line">        </div>
<div class="line">        [weakSelf onEventNotification:eventType];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an event notification handler to handle dual moad events.</span></div>
<div class="line"><span class="comment">//  param: eventType Received event type.</span></div>
<div class="line">- (void)onEventNotification: (<a class="code" href="group___m_i_c_o_a_c_h___i_n_t_e_r_f_a_c_e_s.html#ga4b18df9e63d6a1a74d29b0c42fe9bf03">ADIFitSmartDualModeEventType</a>) eventType {</div>
<div class="line">    NSLog(<span class="stringliteral">@&quot;event received: %lu&quot;</span>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)eventType);</div>
<div class="line">    <span class="keywordflow">if</span> (eventType == <a name="a21"></a><a class="code" href="_a_d_i_fit_smart_related_types_8h.html#ga4b18df9e63d6a1a74d29b0c42fe9bf03abb8ad06f106880513c98ceb81881f5f3">ADIFitSmartDualModeEventTypeHeartRateFound</a>) {</div>
<div class="line">        [<span class="keyword">self</span> dualModeHearthRateFound];</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">//  A helper method to display when heart rate was found.</span></div>
<div class="line">- (void)dualModeHearthRateFound {</div>
<div class="line">    </div>
<div class="line">    [<span class="keyword">self</span> displayResult:YES resultString:@&quot;Heart Rate found&quot;];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for sending a dual mode ready command to the FitSmart device.</span></div>
<div class="line">- (void)dualModeReadyExample {</div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart dualModeReady:^(BOOL success) {</div>
<div class="line">        </div>
<div class="line">        [weakSelf displayResult:success resultString:nil];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for sending speed up command to the FitSmart device.</span></div>
<div class="line">- (void)dualModeSceneSpeedUpExample {</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart dualModeSceneAWZoneUp:<a name="a22"></a><a class="code" href="_a_d_i_fit_smart_related_types_8h.html#ga82ee9b83d1c4a869e48b15adb48502c1a98d17163053527c315f94e2c055c8341">ADIFitSmartDualModeZoneColorRed</a>];</div>
<div class="line">    </div>
<div class="line">    [weakSelf displayResult:YES resultString:<span class="stringliteral">@&quot;Check device for arrow up&quot;</span>];</div>
<div class="line">    </div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for starting a workout in dual mode on FitSmart device.</span></div>
<div class="line">- (<span class="keywordtype">void</span>)dualModeStartWorkoutExample {</div>
<div class="line">    </div>
<div class="line">    [<span class="keyword">self</span> setHandlerForDualModeSensorReadings];</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart dualModeStartWorkout:^(BOOL success) {</div>
<div class="line">        </div>
<div class="line">        [weakSelf displayResult:success resultString:nil];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">-(void)setHandlerForDualModeSensorReadings {</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart setHandlerForDualModeSensorReadings:^(<a name="_a23"></a><a class="code" href="interface_a_d_i_fit_smart_sensor_readings.html">ADIFitSmartSensorReadings</a> *readings) {</div>
<div class="line">        [weakSelf onDualModeSensorReadingsNotification:readings];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This function is called when a setHandlerForDualModeSensorReadings is fired from the FitSmart device.</span></div>
<div class="line"><span class="comment">//  param: readings The received sensor readings.</span></div>
<div class="line">- (void)onDualModeSensorReadingsNotification:(<a class="code" href="interface_a_d_i_fit_smart_sensor_readings.html">ADIFitSmartSensorReadings</a> *)readings {</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">self</span>.log([NSString stringWithFormat:<span class="stringliteral">@&quot;        sensorReadings: speed: %@ hr: %@&quot;</span>, readings.<a name="a24"></a><a class="code" href="interface_a_d_i_fit_smart_sensor_readings.html#a64162819ab42b0ff3b836b5bd0f941e5">speed</a>, readings.<a name="a25"></a><a class="code" href="interface_a_d_i_fit_smart_sensor_readings.html#ac8547ded79523418afea64e44fad6316">heartRate</a>]);</div>
<div class="line">    [_fitSmart setHandlerForDualModeSensorReadings:nil];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for pausing a workout in dual mode on FitSmart device.</span></div>
<div class="line">- (void)dualModePauseWorkoutExample {</div>
<div class="line"></div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart dualModePauseWorkout:^(BOOL success) {</div>
<div class="line">        </div>
<div class="line">        [weakSelf displayResult:success resultString:nil];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for resuming a workout in dual mode on FitSmart device.</span></div>
<div class="line">- (void)dualModeResumeWorkoutExample {</div>
<div class="line"></div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart dualModeResumeWorkout:^(BOOL success) {</div>
<div class="line">        </div>
<div class="line">        [weakSelf displayResult:success resultString:nil];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for updating the instant metrics on the FitSmart device.</span></div>
<div class="line">- (void)dualUpdateInstantMetricsExample {</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    <a class="code" href="interface_a_d_i_fit_smart_sensor_readings.html">ADIFitSmartSensorReadings</a> * sensorReadings = [[<a class="code" href="interface_a_d_i_fit_smart_sensor_readings.html">ADIFitSmartSensorReadings</a> alloc] init];</div>
<div class="line">    </div>
<div class="line">    sensorReadings.heartRate = @89;</div>
<div class="line">    sensorReadings.workoutTime = @220;</div>
<div class="line">    sensorReadings.distance = @80;</div>
<div class="line">    sensorReadings.calories = @30;</div>
<div class="line">    sensorReadings.pace = @301;</div>
<div class="line">    sensorReadings.avgPace = @330;</div>
<div class="line">    sensorReadings.speed = @47.4;</div>
<div class="line">    sensorReadings.avgSpeed = @27.2;</div>
<div class="line">    sensorReadings.strideRate = @29.44;</div>
<div class="line">    sensorReadings.steps = @221;</div>
<div class="line">    sensorReadings.runScore = @70;</div>
<div class="line">    sensorReadings.timestampUTC = @1437998844;</div>
<div class="line">    </div>
<div class="line">    </div>
<div class="line">    [_fitSmart dualModeUpdateInstantMetrics:sensorReadings completion:^(BOOL success) {</div>
<div class="line">        [weakSelf displayResult:success resultString:nil];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for updating the summary metrics on the FitSmart device.</span></div>
<div class="line">- (void)dualUpdateSummaryMetricsExample {</div>
<div class="line"></div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    <a class="code" href="interface_a_d_i_fit_smart_sensor_readings.html">ADIFitSmartSensorReadings</a> * sensorReadings = [[<a class="code" href="interface_a_d_i_fit_smart_sensor_readings.html">ADIFitSmartSensorReadings</a> alloc] init];</div>
<div class="line">    </div>
<div class="line">    sensorReadings.heartRate = @111;</div>
<div class="line">    sensorReadings.workoutTime = @320;</div>
<div class="line">    sensorReadings.distance = @180;</div>
<div class="line">    sensorReadings.calories = @130;</div>
<div class="line">    sensorReadings.pace = @201;</div>
<div class="line">    sensorReadings.avgPace = @330;</div>
<div class="line">    sensorReadings.speed = @47.4;</div>
<div class="line">    sensorReadings.avgSpeed = @27.2;</div>
<div class="line">    sensorReadings.strideRate = @29.44;</div>
<div class="line">    sensorReadings.steps = @221;</div>
<div class="line">    sensorReadings.runScore = @170;</div>
<div class="line">    sensorReadings.timestampUTC = @1438888888;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart dualModeUpdateSummaryMetrics:sensorReadings completion:^(BOOL success) {</div>
<div class="line">        [weakSelf displayResult:success resultString:nil];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for stopping a workout in dual mode on FitSmart device.</span></div>
<div class="line">- (void)dualModeStopWorkoutExample {</div>
<div class="line"></div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart dualModeStopWorkout:^(BOOL success) {</div>
<div class="line">        </div>
<div class="line">        [weakSelf displayResult:success resultString:nil];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for checking if the FitSmart device is in dual mode.</span></div>
<div class="line">- (void)isInDualModeExample {</div>
<div class="line">    </div>
<div class="line">    BOOL isInDualMode = [_fitSmart isInDualMode];</div>
<div class="line">    </div>
<div class="line">    [<span class="keyword">self</span> displayResult:isInDualMode resultString:nil];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for ending the dual mode on the FitSmart device.</span></div>
<div class="line">- (void)endDualModeExample {</div>
<div class="line"></div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart endDualMode:^(BOOL success) {</div>
<div class="line">        </div>
<div class="line">        [weakSelf displayResult:success resultString:nil];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is a method called when a heart rate update handler fires from the FitSmart device.</span></div>
<div class="line"><span class="comment">//  param: heartRateData The received heart rate.</span></div>
<div class="line">- (void)onHearthRateUpdate:(<a class="code" href="interface_a_d_i_heart_rate.html">ADIHeartRate</a> *)heartRateData {</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">self</span>.log([NSString stringWithFormat:<span class="stringliteral">@&quot;  HR: %lu&quot;</span>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)heartRateData.<a name="a26"></a><a class="code" href="interface_a_d_i_heart_rate.html#a64cc6453430e6be3eb023f380a2c992d">heartRate</a>]);</div>
<div class="line">    [_fitSmart startHeartRateUpdatesWithHandler:nil];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">@end</span></div>
</div><!-- fragment --><div class="fragment"><div class="line"><span class="preprocessor">#import &quot;ADIFitSmartFeatureExamples.h&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This class presents examples for the Fit Smart device features.</span></div>
<div class="line"><span class="keyword">@implementation </span>ADIFitSmartFeatureExamples {</div>
<div class="line">    </div>
<div class="line">    NSMutableArray *_examples;</div>
<div class="line">    NSUInteger _examplesCount;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#pragma mark - Helpers</span></div>
<div class="line"></div>
<div class="line"><span class="comment">//  Run FitSmart feature examples after each other.</span></div>
<div class="line">- (void)runAllExamples {</div>
<div class="line">    </div>
<div class="line">    _examples = [NSMutableArray new];</div>
<div class="line">    </div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(start))];</div>
<div class="line">   </div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(getTimeExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(setTimeExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(writeUserConfigurationExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(getDeviceInfoExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(uploadWorkoutExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(uploadWorkoutWithUSDatesExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(downloadAllSessionsExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(deleteAllSessionsExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(writeCalibrationFactorExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(readCalibrationFactorExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(readBatteryLevelExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(getDeviceStateExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(getAvailableSpacePercentForSessionsExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(getAvailableSpacePercentForActivityTrackerExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(downloadActivityRecordsExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(deleteActivityRecordsExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(getDeviceStateExample))];</div>
<div class="line"></div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(endsync))];</div>
<div class="line"></div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(startDualModeAssessmentExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(heartRateUpdateExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(dualModeReadyExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(dualModeStartWorkoutExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(dualModeSceneSpeedUpExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(dualModePauseWorkoutExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(dualModeResumeWorkoutExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(dualUpdateInstantMetricsExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(dualUpdateSummaryMetricsExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(dualModeStopWorkoutExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(isInDualModeExample))];</div>
<div class="line">    [_examples addObject:NSStringFromSelector(@selector(endDualModeExample))];</div>
<div class="line">    </div>
<div class="line">    _examplesCount = _examples.count;</div>
<div class="line">    [<span class="keyword">self</span> continueRunningExamples];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">//  This method continues running the next example.</span></div>
<div class="line">- (void)continueRunningExamples {</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">if</span> (_examples.count &gt; 0) {</div>
<div class="line">        </div>
<div class="line">        NSString *selectorName = _examples.firstObject;</div>
<div class="line">        <span class="keywordtype">SEL</span> selector = NSSelectorFromString(selectorName);</div>
<div class="line">        [_examples removeObjectAtIndex:0];</div>
<div class="line">        <span class="keyword">self</span>.log(<span class="stringliteral">@&quot;&quot;</span>);</div>
<div class="line">        <span class="keyword">self</span>.log([NSString stringWithFormat:<span class="stringliteral">@&quot;%02lu/%02lu %@&quot;</span>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)(_examplesCount - _examples.count), (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)_examplesCount, selectorName]);</div>
<div class="line">        [<span class="keyword">self</span> performSelector:selector withObject:nil afterDelay:5.0];</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">//  This method formats and logs the result of an example, then continues to run next example.</span></div>
<div class="line">- (void)displayResult:(BOOL)success resultString:(NSString *)resultString {</div>
<div class="line">    </div>
<div class="line">    <span class="keywordflow">if</span> (resultString.length &gt; 0) {</div>
<div class="line">        </div>
<div class="line">        <span class="comment">// message with result</span></div>
<div class="line">        <span class="keyword">self</span>.log([NSString stringWithFormat:<span class="stringliteral">@&quot;    success: %@ - %@&quot;</span>, success ? <span class="stringliteral">@&quot;YES&quot;</span> : <span class="stringliteral">@&quot;NO&quot;</span>, resultString]);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> {</div>
<div class="line">        </div>
<div class="line">        <span class="comment">// message without result</span></div>
<div class="line">        <span class="keyword">self</span>.log([NSString stringWithFormat:<span class="stringliteral">@&quot;    success: %@&quot;</span>, success ? <span class="stringliteral">@&quot;YES&quot;</span> : <span class="stringliteral">@&quot;NO&quot;</span>]);</div>
<div class="line">    }</div>
<div class="line">    </div>
<div class="line">    <span class="comment">// next example</span></div>
<div class="line">    [<span class="keyword">self</span> continueRunningExamples];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#pragma mark - Examples</span></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an example for sync starting on the FitSmart device.</span></div>
<div class="line">- (void)start {</div>
<div class="line">    </div>
<div class="line">    [_fitSmart startSync];</div>
<div class="line">    [<span class="keyword">self</span> continueRunningExamples];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an example for sync ending on the FitSmart device and ending the tests.</span></div>
<div class="line">- (void)end {</div>
<div class="line">    </div>
<div class="line">    [_fitSmart endSync:nil];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an example for sync ending on the FitSmart device.</span></div>
<div class="line">- (void)endsync {</div>
<div class="line">    </div>
<div class="line">    [_fitSmart endSync:nil];</div>
<div class="line">    [<span class="keyword">self</span> continueRunningExamples];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an example for getting the time from the FitSmart device.</span></div>
<div class="line">- (void)getTimeExample {</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart getDeviceTime:^(NSDate *dateTime) {</div>
<div class="line">        </div>
<div class="line">        NSString *dateString = [NSDateFormatter localizedStringFromDate:dateTime dateStyle:NSDateFormatterShortStyle timeStyle:NSDateFormatterShortStyle];</div>
<div class="line">        BOOL success = (dateTime != nil);</div>
<div class="line">        </div>
<div class="line">        [weakSelf displayResult:success resultString:dateString];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an example for setting the time on the FitSmart device.</span></div>
<div class="line">- (void)setTimeExample {</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart setDeviceTime:[NSDate date] success:^(BOOL success) {</div>
<div class="line">        </div>
<div class="line">        [weakSelf displayResult:success resultString:nil];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an example for writing a user configuration on the FitSmart device.</span></div>
<div class="line">- (void)writeUserConfigurationExample {</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    <a class="code" href="interface_a_d_i_fit_smart_user_configuration.html">ADIFitSmartUserConfiguration</a> *testConfiguration = [[<a class="code" href="interface_a_d_i_fit_smart_user_configuration.html">ADIFitSmartUserConfiguration</a> alloc] init];</div>
<div class="line">    </div>
<div class="line">    testConfiguration.ageInYears = 1;</div>
<div class="line">    testConfiguration.gender = <a class="code" href="_a_d_i_fit_smart_user_configuration_8h.html#gab7612f86a2d9fa3164789b07f6daf4eba50a7ef468152ed930faa122c3a54333b">ADIFitSmartGenderPreferenceMale</a>;</div>
<div class="line">    testConfiguration.heightInCentiMeters = 2;</div>
<div class="line">    testConfiguration.weightInKilograms = 3;</div>
<div class="line">    testConfiguration.heartRateZoneBlueTopInBPM = 4;</div>
<div class="line">    testConfiguration.heartRateZoneBlueMinInBPM = 5;</div>
<div class="line">    testConfiguration.heartRateZoneGreenTopInBPM = 6;</div>
<div class="line">    testConfiguration.heartRateZoneYellowTopInBPM = 7;</div>
<div class="line">    testConfiguration.heartRateZoneRedTopInBPM = 8;</div>
<div class="line">    testConfiguration.paceZoneBlueMinInSecondsPerKM = 9;</div>
<div class="line">    testConfiguration.paceZoneBlueTopInSecondsPerKM = 10;</div>
<div class="line">    testConfiguration.paceZoneGreenTopInSecondsPerKM = 11;</div>
<div class="line">    testConfiguration.paceZoneYellowTopInSecondsPerKM = 12;</div>
<div class="line">    testConfiguration.paceZoneRedTopInSecondsPerKM = 13;</div>
<div class="line">    testConfiguration.uniqueUserIdentifier = @14;</div>
<div class="line">    testConfiguration.showDoubleMetricNames = YES;</div>
<div class="line">    testConfiguration.unit = 1;</div>
<div class="line">    testConfiguration.timeFormat = 1;</div>
<div class="line">    testConfiguration.autoSplitMode = 1;</div>
<div class="line">    testConfiguration.splitMode = <a class="code" href="_a_d_i_fit_smart_user_configuration_8h.html#ga6dcfa24e57cbf40dedcf677782d0f41aa47d1171d197997d3b625179abf1b560d">ADIFitSmartSplitModePreferenceDistance</a>;</div>
<div class="line">    testConfiguration.autoSplitValue = 1;</div>
<div class="line">    testConfiguration.coachingMethod = <a class="code" href="group___f_i_t_s_m_a_r_t___d_e_v_i_c_e.html#gga746987ecca01ea0a4c54505334c871d6a6b1d66cd4f7362031499172860f6e3f5">ADIFitSmartCoachingMethodPreferencePace</a>;</div>
<div class="line">    testConfiguration.enableLockOfWatchView = YES;</div>
<div class="line">    testConfiguration.enableAWorkout = YES;</div>
<div class="line">    testConfiguration.enableActivityTracking = YES;</div>
<div class="line">    testConfiguration.activityTrackerTargetType = <a class="code" href="_a_d_i_fit_smart_user_configuration_8h.html#gab0905440c15f485eaf76c5f14cd3137da937ba7e895594f23a44e889e66c0e244">ADIFitSmartActivityTargetPreferenceDistance</a>;</div>
<div class="line">    testConfiguration.activityTrackerGoal = 16;</div>
<div class="line">    testConfiguration.activityTrackerResetTime = 17;</div>
<div class="line">    </div>
<div class="line">    NSMutableArray *metricsArray = [NSMutableArray array];</div>
<div class="line">    <a class="code" href="interface_a_d_i_fit_smart_screen.html">ADIFitSmartScreen</a> *screen = [<a class="code" href="interface_a_d_i_fit_smart_screen.html">ADIFitSmartScreen</a> fitSmartScreenWithMetricOnTop:<a class="code" href="group___f_i_t_s_m_a_r_t___d_e_v_i_c_e.html#ggac8f966b42f7157cef2ec12870fbb247ba8e1c9289d0dfd5052fb1615d670e2534">ADIFitSmartMetricViewTypeEmpty</a> metricOnBottom:<a class="code" href="group___f_i_t_s_m_a_r_t___d_e_v_i_c_e.html#ggac8f966b42f7157cef2ec12870fbb247ba589b59414f58c4269c45dfd2282d7b11">ADIFitSmartMetricViewTypeTime</a>];</div>
<div class="line">    [metricsArray addObject:screen];</div>
<div class="line">    screen = [<a class="code" href="interface_a_d_i_fit_smart_screen.html">ADIFitSmartScreen</a> fitSmartScreenWithSingleMetric:<a class="code" href="group___f_i_t_s_m_a_r_t___d_e_v_i_c_e.html#ggac8f966b42f7157cef2ec12870fbb247ba446452ef6fd129f427d7e8468ab75d19">ADIFitSmartMetricViewTypeHeartRate</a>];</div>
<div class="line">    [metricsArray addObject:screen];</div>
<div class="line">    screen = [<a class="code" href="interface_a_d_i_fit_smart_screen.html">ADIFitSmartScreen</a> fitSmartScreenWithMetricOnTop:<a class="code" href="group___f_i_t_s_m_a_r_t___d_e_v_i_c_e.html#ggac8f966b42f7157cef2ec12870fbb247ba8849194273a53ddde7346b52a30cec28">ADIFitSmartMetricViewTypeCalories</a> metricOnBottom:<a class="code" href="group___f_i_t_s_m_a_r_t___d_e_v_i_c_e.html#ggac8f966b42f7157cef2ec12870fbb247ba2ac0348890de249c5dbe99ccc7cef4a0">ADIFitSmartMetricViewTypeDistance</a>];</div>
<div class="line">    [metricsArray addObject:screen];</div>
<div class="line">    screen = [<a class="code" href="interface_a_d_i_fit_smart_screen.html">ADIFitSmartScreen</a> fitSmartScreenWithSingleMetric:<a class="code" href="group___f_i_t_s_m_a_r_t___d_e_v_i_c_e.html#ggac8f966b42f7157cef2ec12870fbb247ba445d9f2856a7594aa459819b3d38377e">ADIFitSmartMetricViewTypeAvgSpeed</a>];</div>
<div class="line">    [metricsArray addObject:screen];</div>
<div class="line">    </div>
<div class="line">    testConfiguration.orderOfMetricViews = metricsArray;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart writeUserConfiguration:testConfiguration completion:^(BOOL success) {</div>
<div class="line">        </div>
<div class="line">        [weakSelf displayResult:success resultString:nil];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an example for downloading all sessions from the FitSmart device.</span></div>
<div class="line">- (void)downloadAllSessionsExample {</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart downloadSessions:^(NSArray *sessions, NSError *error) {</div>
<div class="line">        </div>
<div class="line">        BOOL success = (error == nil);</div>
<div class="line">        </div>
<div class="line">        [weakSelf displayResult:success resultString:[NSString stringWithFormat:@&quot;Downloaded %d sessions&quot;, (int)sessions.count]];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an example for deleting all sessions from the FitSmart device.</span></div>
<div class="line">- (void)deleteAllSessionsExample {</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart deleteAllSessions:^(BOOL success) {</div>
<div class="line">        </div>
<div class="line">        [weakSelf displayResult:success resultString:nil];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for writing a new calibration factor on the FitSmart device.</span></div>
<div class="line">- (void)writeCalibrationFactorExample {</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart writeCalibrationFactor:1.3 completion:^(BOOL success) {</div>
<div class="line">        </div>
<div class="line">        [weakSelf displayResult:success resultString:nil];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for reading the calibration factor from the FitSmart device.</span></div>
<div class="line">- (void)readCalibrationFactorExample {</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart readCalibrationFactor:^(<span class="keywordtype">float</span> calibrationFactor, BOOL success) {</div>
<div class="line">        </div>
<div class="line">        [weakSelf displayResult:success resultString:[NSString stringWithFormat:@&quot;Calibration Factor: %.2f&quot;, calibrationFactor]];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for reading the battery level from the FitSmart device.</span></div>
<div class="line">- (void)readBatteryLevelExample {</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart readBatteryLevel:^(NSUInteger batteryLevel) {</div>
<div class="line">        [weakSelf displayResult:YES resultString:[NSString stringWithFormat:@&quot;Level: %lu%%&quot;, (unsigned long)batteryLevel]];</div>
<div class="line">        </div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for getting the device info from the FitSmart device.</span></div>
<div class="line">- (void)getDeviceInfoExample {</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart getDeviceInfo:^(<a class="code" href="interface_a_d_i_fit_smart_device_info.html">ADIFitSmartDeviceInfo</a> *deviceInfo) {</div>
<div class="line">        [weakSelf displayResult:YES resultString:[NSString stringWithFormat:@&quot;S.Num: %@, FirmW.:%@&quot;, deviceInfo.serialNumber, deviceInfo.firmwareRevision]];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for uploading a workout to the FitSmart device.</span></div>
<div class="line">- (void)uploadWorkoutExample {</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    <a class="code" href="interface_a_d_i_fit_smart_workout.html">ADIFitSmartWorkout</a> *workout = [[<a class="code" href="interface_a_d_i_fit_smart_workout.html">ADIFitSmartWorkout</a> alloc] init];</div>
<div class="line">    workout.uniqueId = @123456789;</div>
<div class="line">    workout.workoutIndex = 0;</div>
<div class="line">    workout.date = [NSDate date];</div>
<div class="line">    workout.workoutDescription = <span class="stringliteral">@&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789&quot;</span>;</div>
<div class="line">    </div>
<div class="line">    NSMutableArray* intervals = [NSMutableArray array];</div>
<div class="line">    </div>
<div class="line">    <a class="code" href="interface_a_d_i_fit_smart_workout_interval.html">ADIFitSmartWorkoutInterval</a>* interval = [[<a class="code" href="interface_a_d_i_fit_smart_workout_interval.html">ADIFitSmartWorkoutInterval</a> alloc] init];</div>
<div class="line">    interval.zoneColor = <a class="code" href="group___f_i_t_s_m_a_r_t___d_e_v_i_c_e.html#gga8ec9487db28b97a1cbafcd61195b821da92e625dcc4aa29f5782209bd7e626668">ADIFitSmartWorkoutIntervalZoneColor_Blue</a>;</div>
<div class="line">    interval.intervalDurationInSeconds = 20;</div>
<div class="line">    [intervals addObject:interval];</div>
<div class="line">    </div>
<div class="line">    interval = [[<a class="code" href="interface_a_d_i_fit_smart_workout_interval.html">ADIFitSmartWorkoutInterval</a> alloc] init];</div>
<div class="line">    interval.zoneColor = <a class="code" href="group___f_i_t_s_m_a_r_t___d_e_v_i_c_e.html#gga8ec9487db28b97a1cbafcd61195b821da14701f4c73bb1db91e9f2ddf135d3a09">ADIFitSmartWorkoutIntervalZoneColor_Yellow</a>;</div>
<div class="line">    interval.intervalDurationInSeconds = 25;</div>
<div class="line">    [intervals addObject:interval];</div>
<div class="line">    </div>
<div class="line">    workout.intervals = intervals;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart uploadWorkout:workout completion:^(BOOL success) {</div>
<div class="line">        [weakSelf displayResult:success resultString:nil];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for uploading a workout with US Dates to the FitSmart device.</span></div>
<div class="line">- (void)uploadWorkoutWithUSDatesExample {</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    <a class="code" href="interface_a_d_i_fit_smart_workout.html">ADIFitSmartWorkout</a> *workout = [[<a class="code" href="interface_a_d_i_fit_smart_workout.html">ADIFitSmartWorkout</a> alloc] init];</div>
<div class="line">    workout.uniqueId = @5678;</div>
<div class="line">    workout.workoutIndex = 1;</div>
<div class="line">    workout.date = [NSDate date];</div>
<div class="line">    workout.workoutDescription = <span class="stringliteral">@&quot;TESTWITHUSDATE&quot;</span>;</div>
<div class="line">    </div>
<div class="line">    NSMutableArray* intervals = [NSMutableArray array];</div>
<div class="line">    </div>
<div class="line">    <a class="code" href="interface_a_d_i_fit_smart_workout_interval.html">ADIFitSmartWorkoutInterval</a>* interval = [[<a class="code" href="interface_a_d_i_fit_smart_workout_interval.html">ADIFitSmartWorkoutInterval</a> alloc] init];</div>
<div class="line">    interval.zoneColor = <a class="code" href="group___f_i_t_s_m_a_r_t___d_e_v_i_c_e.html#gga8ec9487db28b97a1cbafcd61195b821daba7347af564c5bdef94aa8e5b0f2c189">ADIFitSmartWorkoutIntervalZoneColor_Green</a>;</div>
<div class="line">    interval.intervalDurationInSeconds = 15;</div>
<div class="line">    [intervals addObject:interval];</div>
<div class="line">    </div>
<div class="line">    interval = [[<a class="code" href="interface_a_d_i_fit_smart_workout_interval.html">ADIFitSmartWorkoutInterval</a> alloc] init];</div>
<div class="line">    interval.zoneColor = 0;</div>
<div class="line">    interval.intervalDurationInSeconds = 27;</div>
<div class="line">    [intervals addObject:interval];</div>
<div class="line">    </div>
<div class="line">    interval = [[<a class="code" href="interface_a_d_i_fit_smart_workout_interval.html">ADIFitSmartWorkoutInterval</a> alloc] init];</div>
<div class="line">    interval.zoneColor = <a class="code" href="group___f_i_t_s_m_a_r_t___d_e_v_i_c_e.html#gga8ec9487db28b97a1cbafcd61195b821da8c39469f75803e2b55e71a2ad8d918c2">ADIFitSmartWorkoutIntervalZoneColor_Red</a>;</div>
<div class="line">    interval.intervalDurationInSeconds = 34;</div>
<div class="line">    [intervals addObject:interval];</div>
<div class="line">    </div>
<div class="line">    workout.intervals = intervals;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart uploadWorkoutWithUSDates:workout completion:^(BOOL success) {</div>
<div class="line">        [weakSelf displayResult:success resultString:nil];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for getting the device state from the FitSmart device.</span></div>
<div class="line">- (void)getDeviceStateExample {</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart getDeviceState:^(<a class="code" href="group___m_i_c_o_a_c_h___i_n_t_e_r_f_a_c_e_s.html#ga7a279ca9b878fbf2bc4136a552e01110">ADIFitSmartState</a> state, <a class="code" href="group___m_i_c_o_a_c_h___i_n_t_e_r_f_a_c_e_s.html#gada671fd397d9e5e37af8a3e1f04e2408">ADIFitSmartSubState</a> subState) {</div>
<div class="line">        </div>
<div class="line">        [weakSelf displayResult:YES resultString:[NSString stringWithFormat:@&quot;State: %lu, SubState: %lu&quot;, (unsigned long)state, (unsigned long)subState]];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for getting the available percent of space for session from the FitSmart device.</span></div>
<div class="line">- (void)getAvailableSpacePercentForSessionsExample {</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart getAvailableSpacePercentForSessions:^(NSUInteger percent) {</div>
<div class="line">        </div>
<div class="line">        [weakSelf displayResult:YES resultString:[NSString stringWithFormat:@&quot;Percent: %lu%%&quot;, (unsigned long)percent]];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for getting the available percent of space for activities from the FitSmart device.</span></div>
<div class="line">- (void)getAvailableSpacePercentForActivityTrackerExample {</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart getAvailableSpacePercentForActivityTracker :^(NSUInteger percent) {</div>
<div class="line">        </div>
<div class="line">        [weakSelf displayResult:YES resultString:[NSString stringWithFormat:@&quot;Percent: %lu%%&quot;, (unsigned long)percent]];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe to reset the FitSmart device.</span></div>
<div class="line">- (void)userResetDeviceExample {</div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart userResetDevice:^(BOOL success) {</div>
<div class="line">        </div>
<div class="line">        [weakSelf displayResult:success resultString:nil];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe to reboot the FitSmart device witch factory reset.</span></div>
<div class="line">- (void)rebootDeviceWithFactoryResetExample {</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart rebootDeviceWithFactoryReset:^(BOOL success) {</div>
<div class="line">        </div>
<div class="line">        [weakSelf displayResult:success resultString:nil];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe to reboot the FitSmart device witch factory reset</span></div>
<div class="line">- (void)rebootDeviceWithoutFactoryResetExample {</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart rebootDeviceWithoutFactoryReset:^(BOOL success) {</div>
<div class="line">        </div>
<div class="line">        [weakSelf displayResult:success resultString:nil];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for downloading activity records from the FitSmart device.</span></div>
<div class="line">- (void)downloadActivityRecordsExample {</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart downloadActivityRecords:^(<a class="code" href="interface_a_d_i_fit_smart_activity_record.html">ADIFitSmartActivityRecord</a> *record, NSError *error) {</div>
<div class="line">        </div>
<div class="line">        [weakSelf displayResult:error==nil resultString:[NSString stringWithFormat:@&quot;Datapoints count: %lu&quot;, (unsigned long)record.dataPoints.count]];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for deleting activity records from the FitSmart device.</span></div>
<div class="line">- (void)deleteActivityRecordsExample {</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart deleteActivityRecords:^(BOOL success) {</div>
<div class="line">        </div>
<div class="line">        [weakSelf displayResult:success resultString:nil];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for updating the firmware on the FitSmart device.</span></div>
<div class="line">- (void)updateFirmwareExample {</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    NSString* firmwareBinaryPath = [[NSBundle mainBundle] pathForResource:<span class="stringliteral">@&quot;fw_update_2.0.2.bin&quot;</span> ofType:nil];</div>
<div class="line">    </div>
<div class="line">    NSData *data = [NSData dataWithContentsOfFile:firmwareBinaryPath];</div>
<div class="line">    </div>
<div class="line">    [_fitSmart setHandlerForFirmwareProgressChange:^(NSInteger progress) {</div>
<div class="line">        <span class="keywordflow">if</span> (progress%5 == 0) {</div>
<div class="line">            weakSelf.log([NSString stringWithFormat:<span class="stringliteral">@&quot;  firmware update progress: %lu%%&quot;</span>, (<span class="keywordtype">long</span>)progress]);</div>
<div class="line">        }</div>
<div class="line">    }];</div>
<div class="line">    </div>
<div class="line">    [_fitSmart updateFirmware:data completion:^(BOOL success) {</div>
<div class="line">        [weakSelf displayResult:success resultString:nil];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for setting a handler for heart rate updates from the FitSmart device.</span></div>
<div class="line">-(void)heartRateUpdateExample {</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart startHeartRateUpdatesWithHandler:^(<a class="code" href="interface_a_d_i_heart_rate.html">ADIHeartRate</a> *heartRateData, NSError *error) {</div>
<div class="line">        </div>
<div class="line">        [<span class="keyword">self</span> onHearthRateUpdate:heartRateData];</div>
<div class="line">        [weakSelf displayResult:error == nil resultString:nil];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#pragma mark Dual mode</span></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for starting a free workout in dual mode on FitSmart device.</span></div>
<div class="line">- (void)startDualModeFreeWorkoutExample {</div>
<div class="line">    </div>
<div class="line">    [<span class="keyword">self</span> setHandlerForDualModeEventNotification];</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart startDualModeForFreeWorkout:^(BOOL success) {</div>
<div class="line">        </div>
<div class="line">        weakSelf.log(<span class="stringliteral">@&quot;free WO start - waiting for HR&quot;</span>);</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for starting an assessment workout in dual mode on FitSmart device.</span></div>
<div class="line">- (void)startDualModeAssessmentExample {</div>
<div class="line">    </div>
<div class="line">    [<span class="keyword">self</span> setHandlerForDualModeEventNotification];</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart startDualModeForAssessmentWorkout:^(BOOL success) {</div>
<div class="line">        </div>
<div class="line">        weakSelf.log(<span class="stringliteral">@&quot;assessment WO start - waiting for HR&quot;</span>);</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for starting a coached workout in dual mode on FitSmart device.</span></div>
<div class="line">- (void)startDualModeForCoachedWorkoutExample {</div>
<div class="line">    </div>
<div class="line">    [<span class="keyword">self</span> setHandlerForDualModeEventNotification];</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart startDualModeForCoachedWorkout:^(BOOL success) {</div>
<div class="line">        </div>
<div class="line">        weakSelf.log(<span class="stringliteral">@&quot;coached WO start - waiting for HR&quot;</span>);</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for starting a strength &amp; flex workout in dual mode on FitSmart device.</span></div>
<div class="line">- (void)startDualModeForStrengthAndFlexWorkoutExample {</div>
<div class="line">    </div>
<div class="line">    [<span class="keyword">self</span> setHandlerForDualModeEventNotification];</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart startDualModeForStrengthAndFlexWorkout:^(BOOL success) {</div>
<div class="line">        </div>
<div class="line">        weakSelf.log(<span class="stringliteral">@&quot;strength &amp; flex WO start - waiting for HR&quot;</span>);</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">- (void) setHandlerForDualModeEventNotification {</div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart setHandlerForDualModeEventNotification:^(<a class="code" href="group___m_i_c_o_a_c_h___i_n_t_e_r_f_a_c_e_s.html#ga4b18df9e63d6a1a74d29b0c42fe9bf03">ADIFitSmartDualModeEventType</a> eventType) {</div>
<div class="line">        </div>
<div class="line">        [weakSelf onEventNotification:eventType];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an event notification handler to handle dual moad events.</span></div>
<div class="line"><span class="comment">//  param: eventType Received event type.</span></div>
<div class="line">- (void)onEventNotification: (<a class="code" href="group___m_i_c_o_a_c_h___i_n_t_e_r_f_a_c_e_s.html#ga4b18df9e63d6a1a74d29b0c42fe9bf03">ADIFitSmartDualModeEventType</a>) eventType {</div>
<div class="line">    NSLog(<span class="stringliteral">@&quot;event received: %lu&quot;</span>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)eventType);</div>
<div class="line">    <span class="keywordflow">if</span> (eventType == <a class="code" href="_a_d_i_fit_smart_related_types_8h.html#ga4b18df9e63d6a1a74d29b0c42fe9bf03abb8ad06f106880513c98ceb81881f5f3">ADIFitSmartDualModeEventTypeHeartRateFound</a>) {</div>
<div class="line">        [<span class="keyword">self</span> dualModeHearthRateFound];</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">//  A helper method to display when heart rate was found.</span></div>
<div class="line">- (void)dualModeHearthRateFound {</div>
<div class="line">    </div>
<div class="line">    [<span class="keyword">self</span> displayResult:YES resultString:@&quot;Heart Rate found&quot;];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for sending a dual mode ready command to the FitSmart device.</span></div>
<div class="line">- (void)dualModeReadyExample {</div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart dualModeReady:^(BOOL success) {</div>
<div class="line">        </div>
<div class="line">        [weakSelf displayResult:success resultString:nil];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for sending speed up command to the FitSmart device.</span></div>
<div class="line">- (void)dualModeSceneSpeedUpExample {</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart dualModeSceneAWZoneUp:<a class="code" href="_a_d_i_fit_smart_related_types_8h.html#ga82ee9b83d1c4a869e48b15adb48502c1a98d17163053527c315f94e2c055c8341">ADIFitSmartDualModeZoneColorRed</a>];</div>
<div class="line">    </div>
<div class="line">    [weakSelf displayResult:YES resultString:<span class="stringliteral">@&quot;Check device for arrow up&quot;</span>];</div>
<div class="line">    </div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for starting a workout in dual mode on FitSmart device.</span></div>
<div class="line">- (<span class="keywordtype">void</span>)dualModeStartWorkoutExample {</div>
<div class="line">    </div>
<div class="line">    [<span class="keyword">self</span> setHandlerForDualModeSensorReadings];</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart dualModeStartWorkout:^(BOOL success) {</div>
<div class="line">        </div>
<div class="line">        [weakSelf displayResult:success resultString:nil];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">-(void)setHandlerForDualModeSensorReadings {</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart setHandlerForDualModeSensorReadings:^(<a class="code" href="interface_a_d_i_fit_smart_sensor_readings.html">ADIFitSmartSensorReadings</a> *readings) {</div>
<div class="line">        [weakSelf onDualModeSensorReadingsNotification:readings];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This function is called when a setHandlerForDualModeSensorReadings is fired from the FitSmart device.</span></div>
<div class="line"><span class="comment">//  param: readings The received sensor readings.</span></div>
<div class="line">- (void)onDualModeSensorReadingsNotification:(<a class="code" href="interface_a_d_i_fit_smart_sensor_readings.html">ADIFitSmartSensorReadings</a> *)readings {</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">self</span>.log([NSString stringWithFormat:<span class="stringliteral">@&quot;        sensorReadings: speed: %@ hr: %@&quot;</span>, readings.<a class="code" href="interface_a_d_i_fit_smart_sensor_readings.html#a64162819ab42b0ff3b836b5bd0f941e5">speed</a>, readings.<a class="code" href="interface_a_d_i_fit_smart_sensor_readings.html#ac8547ded79523418afea64e44fad6316">heartRate</a>]);</div>
<div class="line">    [_fitSmart setHandlerForDualModeSensorReadings:nil];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for pausing a workout in dual mode on FitSmart device.</span></div>
<div class="line">- (void)dualModePauseWorkoutExample {</div>
<div class="line"></div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart dualModePauseWorkout:^(BOOL success) {</div>
<div class="line">        </div>
<div class="line">        [weakSelf displayResult:success resultString:nil];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for resuming a workout in dual mode on FitSmart device.</span></div>
<div class="line">- (void)dualModeResumeWorkoutExample {</div>
<div class="line"></div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart dualModeResumeWorkout:^(BOOL success) {</div>
<div class="line">        </div>
<div class="line">        [weakSelf displayResult:success resultString:nil];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for updating the instant metrics on the FitSmart device.</span></div>
<div class="line">- (void)dualUpdateInstantMetricsExample {</div>
<div class="line">    </div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    <a class="code" href="interface_a_d_i_fit_smart_sensor_readings.html">ADIFitSmartSensorReadings</a> * sensorReadings = [[<a class="code" href="interface_a_d_i_fit_smart_sensor_readings.html">ADIFitSmartSensorReadings</a> alloc] init];</div>
<div class="line">    </div>
<div class="line">    sensorReadings.heartRate = @89;</div>
<div class="line">    sensorReadings.workoutTime = @220;</div>
<div class="line">    sensorReadings.distance = @80;</div>
<div class="line">    sensorReadings.calories = @30;</div>
<div class="line">    sensorReadings.pace = @301;</div>
<div class="line">    sensorReadings.avgPace = @330;</div>
<div class="line">    sensorReadings.speed = @47.4;</div>
<div class="line">    sensorReadings.avgSpeed = @27.2;</div>
<div class="line">    sensorReadings.strideRate = @29.44;</div>
<div class="line">    sensorReadings.steps = @221;</div>
<div class="line">    sensorReadings.runScore = @70;</div>
<div class="line">    sensorReadings.timestampUTC = @1437998844;</div>
<div class="line">    </div>
<div class="line">    </div>
<div class="line">    [_fitSmart dualModeUpdateInstantMetrics:sensorReadings completion:^(BOOL success) {</div>
<div class="line">        [weakSelf displayResult:success resultString:nil];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for updating the summary metrics on the FitSmart device.</span></div>
<div class="line">- (void)dualUpdateSummaryMetricsExample {</div>
<div class="line"></div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    <a class="code" href="interface_a_d_i_fit_smart_sensor_readings.html">ADIFitSmartSensorReadings</a> * sensorReadings = [[<a class="code" href="interface_a_d_i_fit_smart_sensor_readings.html">ADIFitSmartSensorReadings</a> alloc] init];</div>
<div class="line">    </div>
<div class="line">    sensorReadings.heartRate = @111;</div>
<div class="line">    sensorReadings.workoutTime = @320;</div>
<div class="line">    sensorReadings.distance = @180;</div>
<div class="line">    sensorReadings.calories = @130;</div>
<div class="line">    sensorReadings.pace = @201;</div>
<div class="line">    sensorReadings.avgPace = @330;</div>
<div class="line">    sensorReadings.speed = @47.4;</div>
<div class="line">    sensorReadings.avgSpeed = @27.2;</div>
<div class="line">    sensorReadings.strideRate = @29.44;</div>
<div class="line">    sensorReadings.steps = @221;</div>
<div class="line">    sensorReadings.runScore = @170;</div>
<div class="line">    sensorReadings.timestampUTC = @1438888888;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart dualModeUpdateSummaryMetrics:sensorReadings completion:^(BOOL success) {</div>
<div class="line">        [weakSelf displayResult:success resultString:nil];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for stopping a workout in dual mode on FitSmart device.</span></div>
<div class="line">- (void)dualModeStopWorkoutExample {</div>
<div class="line"></div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart dualModeStopWorkout:^(BOOL success) {</div>
<div class="line">        </div>
<div class="line">        [weakSelf displayResult:success resultString:nil];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for checking if the FitSmart device is in dual mode.</span></div>
<div class="line">- (void)isInDualModeExample {</div>
<div class="line">    </div>
<div class="line">    BOOL isInDualMode = [_fitSmart isInDualMode];</div>
<div class="line">    </div>
<div class="line">    [<span class="keyword">self</span> displayResult:isInDualMode resultString:nil];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is an exampe for ending the dual mode on the FitSmart device.</span></div>
<div class="line">- (void)endDualModeExample {</div>
<div class="line"></div>
<div class="line">    __weak typeof(<span class="keyword">self</span>) weakSelf = self;</div>
<div class="line">    </div>
<div class="line">    [_fitSmart endDualMode:^(BOOL success) {</div>
<div class="line">        </div>
<div class="line">        [weakSelf displayResult:success resultString:nil];</div>
<div class="line">    }];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="comment">//  This is a method called when a heart rate update handler fires from the FitSmart device.</span></div>
<div class="line"><span class="comment">//  param: heartRateData The received heart rate.</span></div>
<div class="line">- (void)onHearthRateUpdate:(<a class="code" href="interface_a_d_i_heart_rate.html">ADIHeartRate</a> *)heartRateData {</div>
<div class="line">    </div>
<div class="line">    <span class="keyword">self</span>.log([NSString stringWithFormat:<span class="stringliteral">@&quot;  HR: %lu&quot;</span>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)heartRateData.<a class="code" href="interface_a_d_i_heart_rate.html#a64cc6453430e6be3eb023f380a2c992d">heartRate</a>]);</div>
<div class="line">    [_fitSmart startHeartRateUpdatesWithHandler:nil];</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keyword">@end</span></div>
</div><!-- fragment --> </div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Dec 3 2015 21:52:11 for miCoachSensors by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
